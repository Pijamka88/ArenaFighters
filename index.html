<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arena Fighters</title>
    <style>
        body {
            margin: 0;
            font-family: 'Arial', sans-serif;
            background: #1a1a1a;
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        #header {
            background: #2c2c2c;
            padding: 20px;
            text-align: center;
            font-size: 2em;
            color: #b2ff00;
        }

        .container {
            width: 100%;
            max-width: 600px;
            padding: 20px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #main-menu {
            margin-top: 20px;
        }

        .btn {
            background: #3d3d3d;
            border: none;
            padding: 15px 30px;
            margin: 5px;
            color: #fff;
            font-size: 1.2em;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .btn:hover {
            background: #525252;
        }

        #player-stats, #enemy-stats {
            position: absolute;
            top: 20px;
            padding: 10px;
            background: rgba(0,0,0,0.7);
            border-radius: 5px;
        }

        #player-stats { left: 20px; }
        #enemy-stats { right: 20px; }

        #battle-field {
            position: relative;
            width: 100%;
            height: 300px;
            margin: 30px 0;
        }

        .character {
            position: absolute;
            width: 30%;
            top: 50%;
            transform: translateY(-50%);
            font-size: 3em;
        }

        #player { left: 5%; }
        #enemy { right: 5%; }

        .health-bar {
            width: 100%;
            height: 20px;
            background: #333;
            position: absolute;
            top: -40px;
        }

        .health-fill {
            height: 100%;
            background: #4CAF50;
            transition: width 0.3s;
        }

        #damage-popup {
            position: absolute;
            font-size: 2em;
            color: #ff5252;
            animation: damage-fade 1s;
        }

        @keyframes damage-fade {
            from { opacity: 1; transform: translateY(-20px); }
            to { opacity: 0; transform: translateY(0); }
        }

        #upgrade-menu {
            display: none;
            flex-direction: column;
            align-items: flex-start;
            gap: 10px;
        }

        .upgrade-btn {
            background: #4CAF50;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            color: white;
            cursor: pointer;
        }

        .stat-icon {
            font-size: 1.5em;
            margin-right: 5px;
        }

        @media (max-width: 600px) {
            .btn { font-size: 1em; padding: 10px 20px; }
            .character { font-size: 2.5em; }
            #battle-field { height: 250px; }
        }
    </style>
</head>
<body>
    <div id="header">–ê—Ä–µ–Ω–∞ –°–∏–ª</div>
    <div class="container">
        <div id="player-parameters" class="stats-container">
            –£—Ä–æ–≤–µ–Ω—å: <span class="stat-icon">ü°Ç</span><span id="player-level">1</span><br>
            –û–ø—ã—Ç: <span class="stat-icon">‚ö°</span><span id="player-exp">0</span>/10<br>
            –ñ–∏–∑–Ω–∏: <span class="stat-icon">‚ù§Ô∏è</span><span id="player-health">10</span><br>
            –ê—Ç–∞–∫–∞: <span class="stat-icon">‚öîÔ∏è</span><span id="player-attack">2</span><br>
            –ë—Ä–æ–Ω—è: <span class="stat-icon">üõ°Ô∏è</span><span id="player-defense">1</span><br>
            –û—á–∫–∏: <span id="skill-points">0</span>
        </div>

        <div id="main-menu">
            <button class="btn" onclick="startBattle()">–ù–∞—á–∞—Ç—å –±–æ–π</button>
            <button class="btn" onclick="toggleUpgradeMenu()">–ü—Ä–æ–∫–∞—á–∫–∞</button>
        </div>

        <div id="battle-field">
            <div class="character" id="player">‚öîÔ∏è</div>
            <div class="character" id="enemy">‚öîÔ∏è</div>
            <div class="health-bar" id="player-health-bar">
                <div class="health-fill" id="player-bar-fill"></div>
            </div>
            <div class="health-bar" id="enemy-health-bar" style="right:0">
                <div class="health-fill" id="enemy-bar-fill"></div>
            </div>
            <div id="damage-popup"></div>
        </div>

        <div id="upgrade-menu">
            <button class="upgrade-btn" onclick="upgrade('attack')">–£–≤–µ–ª–∏—á–∏—Ç—å –∞—Ç–∞–∫—É</button>
            <button class="upgrade-btn" onclick="upgrade('defense')">–£–≤–µ–ª–∏—á–∏—Ç—å –±—Ä–æ–Ω—é</button>
            <button class="upgrade-btn" onclick="upgrade('health')">–£–≤–µ–ª–∏—á–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ</button>
            <button class="upgrade-btn" onclick="toggleUpgradeMenu()">–ù–∞–∑–∞–¥</button>
        </div>
    </div>

    <script>
        let player = {
            level: 1,
            exp: 0,
            maxExp: 10,
            health: 10,
            attack: 2,
            defense: 1,
            skillPoints: 0
        };

        let enemy = {
            health: 10,
            attack: 2,
            defense: 1
        };

        let battleTimer;
        let battleActive = false;

        function startBattle() {
            if (battleActive) return;
            
            resetBattle();
            battleActive = true;
            document.getElementById('main-menu').style.display = 'none';
            
            enemy.health = 10;
            enemy.attack = player.level + 1;
            enemy.defense = player.level;
            
            updateBars();
            
            battleTimer = setInterval(() => {
                if (player.health <= 0 || enemy.health <= 0) {
                    endBattle();
                    return;
                }
                
                attack(player, enemy);
                attack(enemy, player);
                
                updateBars();
            }, 1000);
            
            setTimeout(endBattle, 10000);
        }

        function attack(attacker, defender) {
            const damage = Math.max(0, attacker.attack - defender.defense);
            defender.health -= damage;
            
            showDamage(damage, defender === player ? 'left' : 'right');
        }

        function showDamage(damage, side) {
            const popup = document.getElementById('damage-popup');
            popup.textContent = `-${damage}`;
            
            if (side === 'left') {
                popup.style.left = '50%';
                popup.style.right = 'auto';
            } else {
                popup.style.right = '50%';
                popup.style.left = 'auto';
            }
            
            popup.style.display = 'block';
            setTimeout(() => {
                popup.style.display = 'none';
            }, 1000);
        }

        function updateBars() {
            document.getElementById('player-bar-fill').style.width = `${(player.health / 10)*100}%`;
            document.getElementById('enemy-bar-fill').style.width = `${(enemy.health / 10)*100}%`;
        }

        function endBattle() {
            clearInterval(battleTimer);
            battleActive = false;
            
            const winner = player.health > 0 ? 'player' : enemy.health > 0 ? 'enemy' : 'draw';
            
            if (winner === 'player') {
                player.exp += 5;
                player.skillPoints += 1;
                document.getElementById('skill-points').textContent = player.skillPoints;
                
                if (player.exp >= player.maxExp) {
                    levelUp();
                }
            }
            
            document.getElementById('main-menu').style.display = 'flex';
            updatePlayerStats();
        }

        function levelUp() {
            player.level += 1;
            player.exp -= player.maxExp;
            player.maxExp *= 1.5;
            player.skillPoints += 1;
            
            updatePlayerStats();
        }

        function updatePlayerStats() {
            document.getElementById('player-level').textContent = player.level;
            document.getElementById('player-exp').textContent = player.exp;
            document.getElementById('player-attack').textContent = player.attack;
            document.getElementById('player-defense').textContent = player.defense;
            document.getElementById('player-health').textContent = player.health;
            document.getElementById('skill-points').textContent = player.skillPoints;
        }

        function resetBattle() {
            document.getElementById('player-bar-fill').style.width = '100%';
            document.getElementById('enemy-bar-fill').style.width = '100%';
            player.health = 10;
            updatePlayerStats();
        }

        function toggleUpgradeMenu() {
            const menu = document.getElementById('upgrade-menu');
            menu.style.display = menu.style.display === 'flex' ? 'none' : 'flex';
        }

        function upgrade(stat) {
            if (player.skillPoints < 1) return;
            
            player.skillPoints--;
            
            switch (stat) {
                case 'attack': player.attack += 1; break;
                case 'defense': player.defense += 1; break;
                case 'health': player.health += 2; break;
            }
            
            updatePlayerStats();
        }

        window.onload = function() {
            updatePlayerStats();
        };
    </script>
</body>
</html>
