<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="telegram:web_app_version" content="1">
    <title>Arena Fighters</title>
    <style>
        body { margin: 0; overflow: hidden; }
        canvas { display: block; }
        .tg-web-app { width: 100vw; height: 100vh; }
        .menu-btn { 
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 30px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
        }
    </style>
</head>
<body class="tg-web-app">
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.min.js"></script>
    <script>
        const config = {
            type: Phaser.AUTO,
            width: window.innerWidth,
            height: window.innerHeight,
            scene: {
                preload: preload,
                create: create,
                update: update
            },
            physics: {
                default: 'arcade',
                arcade: {
                    gravity: { y: 0 }
                }
            }
        };

        const game = new Phaser.Game(config);
        let player, bot, cursors, attackButton;
        let playerHealth = 100, botHealth = 100;
        let playerText, botText;

        function preload() {
            this.load.image('knight', 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAA...');
            this.load.image('mage', 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAA...');
            this.load.image('archer', 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAA...');
            this.load.image('button', 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAA...');
        }

        function create() {
            // Создаем спрайты
            player = this.physics.add.sprite(200, 300, 'knight');
            bot = this.physics.add.sprite(600, 300, 'mage');
            
            // Создаем текстовые поля
            playerText = this.add.text(20, 20, 'Игрок: 100 HP', { font: '20px Arial', fill: '#fff' });
            botText = this.add.text(600, 20, 'Бот: 100 HP', { font: '20px Arial', fill: '#fff' });
            
            // Кнопка атаки
            attackButton = this.add.text(config.width/2, config.height - 50, 'Атаковать', {
                font: '24px Arial',
                fill: '#fff',
                backgroundColor: '#4CAF50',
                padding: { x: 20, y: 10 }
            }).setInteractive().on('pointerdown', attack);
        }

        function attack() {
            if (playerHealth <= 0 || botHealth <= 0) return;
            
            // Атака игрока
            const damage = Math.floor(Math.random() * 15) + 10;
            botHealth = Math.max(botHealth - damage, 0);
            botText.setText(`Бот: ${botHealth} HP`);
            
            // Атака бота
            const botDamage = Math.floor(Math.random() * 10) + 5;
            playerHealth = Math.max(playerHealth - botDamage, 0);
            playerText.setText(`Игрок: ${playerHealth} HP`);
            
            checkWinner();
        }

        function checkWinner() {
            if (playerHealth <= 0) {
                alert('Вы проиграли!');
                resetGame();
            }
            if (botHealth <= 0) {
                alert('Вы победили!');
                resetGame();
            }
        }

        function resetGame() {
            playerHealth = 100;
            botHealth = 100;
            playerText.setText('Игрок: 100 HP');
            botText.setText('Бот: 100 HP');
        }

        function update() {
            // Обновление игровой логики
        }
    </script>
</body>
</html>
